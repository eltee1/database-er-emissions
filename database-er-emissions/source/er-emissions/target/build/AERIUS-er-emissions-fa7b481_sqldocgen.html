<!doctype html><html><head><meta charset="utf-8"><title>AERIUS-er-emissions-fa7b481 psql-doc</title><meta name="description" content="AERIUS-er-emissions-fa7b481 psql-doc"><style>
body, table {font-size: 10pt; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif; line-height: 1.4em;}
a {text-decoration: none; color: #2196f3;}
a:visited {color: #1976d2;}
a.dead-link {text-decoration: line-through; cursor: not-allowed;}
.header {position: fixed; left: 0; top: 0; right: 0; height: 30px; line-height: 30px; font-size: 12pt; padding: 10px; white-space: nowrap; background-color: #eee;}
.header .generated {float: right; text-align: right; font-size: 8pt; color: silver;}
.header .title {display: inline-block; font-weight: bold; margin-right: 10px;}
.header .schemas {display: inline-block;}
.header .schemas .schema {margin-left: 10px; padding: 5px; cursor: pointer; color: white; border-radius: 4px; background-color: #00bcd4; transition: all 0.25s ease;}
.header .schemas .schema.active {box-shadow: inset 0px 0px 15px 3px rgba(0,0,0,0.33);}
.toc {position: fixed; left: 0; top: 50px; bottom: 0; width: 280px; overflow: auto; font-size: 9pt; padding: 10px; white-space: nowrap;}
.toc .toc-entry {color: gray;}
.toc .toc-header {text-transform: lowercase; font-weight: bold; cursor: pointer;}
.toc .toc-block .toc-header::before {width: 12px; display: inline-block; font-weight: normal; margin-right: 4px;}
.toc .toc-block.collapsed .toc-header::before {content: "\25B6"; color: silver;}
.toc .toc-block.expanded .toc-header::before {content: "\25BC";}
.toc .toc-block {margin-bottom: 10px;}
.toc .toc-blockcontent {display: inline-block; overflow-y: hidden;}
.toc .toc-block.collapsed .toc-blockcontent {max-height: 0;}/*transition: max-height 0.3s ease-out;}*/
.toc .toc-block.expanded .toc-blockcontent {max-height: 9999999px;}/*transition: max-height 0.5s ease-in;}*/
.comments {position: fixed; left: 300px; top: 50px; right: 0; bottom: 0; padding: 20px; overflow-y: scroll;}
.comments .object {font-size: 20pt; line-height: 20pt; margin-top: 40px; margin-bottom: 5px; padding-bottom: 5px; font-style: italic; display: inline-block; border-bottom: 6px solid #ddd;}
.comments .object:first-child {margin-top: 0;}
.comments .block {margin-top: 1em; margin-bottom: 1em; padding: 10px; border: 1px solid #ddd;}
.comments .identifier {font-weight: bold; font-size: 12pt; padding-bottom: 5px; border-bottom: 1px solid #eee;}
.comments .identifier > span {float: left;}
.comments .schema {float: left; font-weight: normal; color: #3f51b5;}
.comments .arguments {font-weight: normal; font-style: italic; margin-left: 4px; color: #444;}
.comments .fileref {font-size: 8pt; font-weight: normal; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; direction: rtl; padding-left: 20px; text-align: right; color: darkgray;}
.comments .comment {padding-top: 5px;}
.comments .column, .comments .param, .comments .returns, .comments .seealso, .comments .dependencies, .comments .todo {padding-left: 60px; text-indent: -30px;}
.comments .columnname, .comments .columntype, .comments .paramname, .comments .paramtype, .comments .returntype, code {font-family: Consolas, monospace;}
.comments .columnname, .comments .paramname {color: #e91e63;}
.comments .columntype, .comments .paramtype, .comments .returntype {font-style: italic; color: #8e9e8e;}
.comments .todo {padding-left: 30px; text-indent: -30px; margin-top: 10px;}
.comments .todo .todo-badge {color: white; font-size: 8pt; font-weight: bold; padding: 3px; margin-right: 4px; border-radius: 4px; background-color: #ff9800;}
.comments .note {font-style: italic; margin-top: 10px;}
.datasources-table {margin-top: 1em; margin-bottom: 1em; border-collapse: collapse; border: 1px solid #ddd;}
.datasources-table td, .datasources-table th { text-align: left; vertical-align: top; padding: 10px; border-bottom: 1px solid #eee;}
.datasources-table tr:last-child td, .datasources-table tr:last-child th { border-bottom: none;}
.datasources-table .datasource-info {font-size: 9pt; margin-bottom: 10px; color: gray;}
.datasources-table .datasource-info:last-child {margin-bottom: 0;}
</style>
<script type="text/javascript">
function showSchema(clickedButton, schemaName, all) {
  var items = document.querySelectorAll('[data-schema]');
  for (var i = 0; i < items.length; ++i) {
    items[i].style.display = (all || items[i].getAttribute('data-schema') == schemaName) ? '' : 'none';
  }
  var buttons = document.querySelectorAll('.schema');
  for (var i = 0; i < buttons.length; ++i) {
    buttons[i].className = (buttons[i] == clickedButton) ? 'schema active' : 'schema';
  }
}
function toggleTree(blockElement) {
  if (blockElement.className == 'toc-block expanded') {
    blockElement.className = 'toc-block collapsed';
  } else {
    blockElement.className = 'toc-block expanded';
  }
}
</script>
</head>
<body>
<div class="header"><div class="generated">Generated on 14-Mar-2025 09:20:24</div><div class="title">AERIUS-er-emissions-fa7b481</div><div class="schemas"><span class="schema active" onclick="showSchema(this,null,true);">(all)</span><span class="schema" onclick="showSchema(this,'',false);">public</span><span class="schema" onclick="showSchema(this,'report',false);">report</span><span class="schema" onclick="showSchema(this,'setup',false);">setup</span><span class="schema" onclick="showSchema(this,'system',false);">system</span></div></div><div class="comments"><div class="object">SCHEMA</div><div class="objectclearer"></div><div class="block" id="schema-public" data-schema=""><div class="identifier"><span>public</span><div style="clear:both"></div></div><div class="comment"></div></div><div class="block" id="schema-report" data-schema="report"><div class="identifier"><span>report</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/02-schemas.sql</div><div style="clear:both"></div></div><div class="comment">The report schema contains tables and views used fot rapporting purposes.</div></div><div class="block" id="schema-report-report" data-schema="report"><div class="identifier"><span>report</span><div style="clear:both"></div></div><div class="comment"></div></div><div class="block" id="schema-setup" data-schema="setup"><div class="identifier"><span>setup</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/02-schemas.sql</div><div style="clear:both"></div></div><div class="comment">The setup schema contains basic tables, queries and functions to create derived AERIUS tables.<br>In the setup schema, several (derived) intermediate tables are created for performance reasons.</div></div><div class="block" id="schema-setup-setup" data-schema="setup"><div class="identifier"><span>setup</span><div style="clear:both"></div></div><div class="comment"></div></div><div class="block" id="schema-system" data-schema="system"><div class="identifier"><span>system</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/02-schemas.sql</div><div style="clear:both"></div></div><div class="comment">The system schema contains basic tables for the AERIUS application.</div></div><div class="block" id="schema-system-system" data-schema="system"><div class="identifier"><span>system</span><div style="clear:both"></div></div><div class="comment"></div></div><div class="object">TABLE</div><div class="objectclearer"></div><div class="block" id="table-binnenvaart" data-schema=""><div class="identifier"><span>binnenvaart</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">vaarweg_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">vaarwegnaam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">shape_length</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-constants" data-schema=""><div class="identifier"><span>constants</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/03-constants.sql</div><div style="clear:both"></div></div><div class="comment">Table for database constants.<div class="note">Columns:</div><div class="column"><span class="columnname">key</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">value</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">type</span> <span class="columntype">constant_type</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-constant-type">constant_type</a></div></div></div><div class="block" id="table-dataset" data-schema=""><div class="identifier"><span>dataset</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">De beschikbare datasets in de database.<div class="note">Columns:</div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">dataset_omschrijving</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">datum_levering</span> <span class="columntype">date</span></div></div></div><div class="block" id="table-emissie-totalen" data-schema=""><div class="identifier"><span>emissie_totalen</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">jaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a>, <a href="#table-substances">substances</a>, <a href="#table-dataset">dataset</a></div></div></div><div class="block" id="table-emissieoorzaken" data-schema=""><div class="identifier"><span>emissieoorzaken</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">emissieoorzaak_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">proces_omschrijving</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-emission-diurnal-variations" data-schema=""><div class="identifier"><span>emission_diurnal_variations</span><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">emission_diurnal_variation_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">name</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-er-emissie-individueel" data-schema=""><div class="identifier"><span>er_emissie_individueel</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-er-emissie-nationaal-erc" data-schema=""><div class="identifier"><span>er_emissie_nationaal_erc</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_indeling_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">ind_erc</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div></div></div><div class="block" id="table-er-emissie-nationaal-eri" data-schema=""><div class="identifier"><span>er_emissie_nationaal_eri</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_indeling_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">ind_erc</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div></div></div><div class="block" id="table-er-emissie-per-emissieoorzaak" data-schema=""><div class="identifier"><span>er_emissie_per_emissieoorzaak</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">dataset_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_indeling_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissieoorzaak_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">proces_omschrijving</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_indeling_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div></div></div><div class="block" id="table-er-emissie-verfijnd" data-schema=""><div class="identifier"><span>er_emissie_verfijnd</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-er-emissie-vierkanten" data-schema=""><div class="identifier"><span>er_emissie_vierkanten</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-er-emissie-vliegvelden" data-schema=""><div class="identifier"><span>er_emissie_vliegvelden</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/02-er_emissions.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-gcn-sector-source-characteristics" data-schema=""><div class="identifier"><span>gcn_sector_source_characteristics</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/04-gcn_sector_source_characteristics.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">smallint</span></div><div class="column"><span class="columnname">heat_content</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">height</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">spread</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">emission_diurnal_variation_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">particle_size_distribution</span> <span class="columntype">integer</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a>, <a href="#table-substances">substances</a></div></div></div><div class="block" id="table-gcn-sectors" data-schema=""><div class="identifier"><span>gcn_sectors</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Sectorindeling van het RIVM.<br>Elke GCN-sector is gekoppeld aan een AERIUS-sector. Hierdoor weten we aan welke AERIUS-sector de depositie van de RIVM-bronnen toegekend moet worden).<div class="note">Columns:</div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-sectors">sectors</a></div></div></div><div class="block" id="table-geo-eri" data-schema=""><div class="identifier"><span>geo_eri</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiebrontype</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">nic_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiepunt_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">nic</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">volgnummer</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">xmidden</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ymidden</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">hoogte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">lengte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">breedte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">hoek</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">beginjaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">eindjaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">uitstroomopening_m2</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-geo-verfijnd" data-schema=""><div class="identifier"><span>geo_verfijnd</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-geo-vierkanten" data-schema=""><div class="identifier"><span>geo_vierkanten</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment">-<div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">r_m</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-geo-vliegvelden" data-schema=""><div class="identifier"><span>geo_vliegvelden</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">nic</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">volgnummer</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">soort</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">lengte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">breedte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">hoogte</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">xmidden</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ymidden</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-giab" data-schema=""><div class="identifier"><span>giab</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">xco</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">yco</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">relnr</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">giabnr</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">nge</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ubn</span> <span class="columntype">bigint</span></div><div class="column"><span class="columnname">relnr_pch_lbt_pch_nw_ubn_rav</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">so</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">giabstatus</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-initiator" data-schema=""><div class="identifier"><span>initiator</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">zone_12_mijl</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">r_m</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-mestverwerkers" data-schema=""><div class="identifier"><span>mestverwerkers</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">nummer</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">vnr</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">type</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">adres</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">huisnr</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">huisnr_toev</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">postcode</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">plaats</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">aantal_werknemers</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">opname_instantie</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">code_instantie</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">sbi_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-metadata" data-schema=""><div class="identifier"><span>metadata</span><div class="fileref">&lrm;main/sql/common/essentials/02-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Metadata- tabel waarin wordt bijgehouden welke data-versie in elke tabel in de database staat, wordt gevuld door een versie van de functie load_table, welke is uitgebreid met het wegschrijven van de ingeladen tabel in de metadata- tabel.<div class="note">Columns:</div><div class="column"><span class="columnname">table_name</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">filename</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">timestamp</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">remarks</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">checksum_hash</span> <span class="columntype">bigint</span></div></div></div><div class="block" id="table-pbl-sectors" data-schema=""><div class="identifier"><span>pbl_sectors</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Koppeltabel tussen GCN sectoren en de sector indeling die het PlanBureau voor de Leefomgevening hanteert.<div class="note">Columns:</div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">pbl_sector</span> <span class="columntype">text</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a></div></div></div><div class="block" id="table-recreatievaart" data-schema=""><div class="identifier"><span>recreatievaart</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">vwk_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">vrt_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">vwg_nr</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">richting</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">vaktype</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">vaklengte</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">shape_length</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">vwv_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-scale-factors" data-schema=""><div class="identifier"><span>scale_factors</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/03-scale_factors.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">year_from</span> <span class="columntype">year_type</span></div><div class="column"><span class="columnname">year_to</span> <span class="columntype">year_type</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissie_from</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">emissie_to</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">scale_factor</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">scenario_id</span> <span class="columntype">integer</span></div><div class="note">References:</div><div class="dependencies"><a href="#domain-year-type">year_type</a>, <a href="#table-scenarios">scenarios</a>, <a href="#table-gcn-sectors">gcn_sectors</a>, <a href="#table-substances">substances</a></div></div></div><div class="block" id="table-scenarios" data-schema=""><div class="identifier"><span>scenarios</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">scenario_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">scenario_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">omschrijving</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-sectorgroups" data-schema=""><div class="identifier"><span>sectorgroups</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Koppeltabel voor sector en sectorgroep.<div class="note">Columns:</div><div class="column"><span class="columnname">sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sectorgroup</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-sectors" data-schema=""><div class="identifier"><span>sectors</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Table containing AERIUS sectors.<div class="note">Columns:</div><div class="column"><span class="columnname">sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-spoorwegen" data-schema=""><div class="identifier"><span>spoorwegen</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">shape_length</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-substances" data-schema=""><div class="identifier"><span>substances</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment">De stoffen beschikbaar in de database.<div class="note">Columns:</div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">smallint</span></div><div class="column"><span class="columnname">substance_name</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_stof_naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">gcn_stof_code</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-system-constants" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>constants</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/04-system-constants.sql</div><div style="clear:both"></div></div><div class="comment">System table for constants used by the web application.<div class="note">Columns:</div><div class="column"><span class="columnname">key</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">value</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">type</span> <span class="columntype">constant_type</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-constant-type">constant_type</a></div></div></div><div class="block" id="table-verfijning-type" data-schema=""><div class="identifier"><span>verfijning_type</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">geo_layer</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geo_fclass_er</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">geo_set_type</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">levering</span> <span class="columntype">text</span></div></div></div><div class="block" id="table-wegen" data-schema=""><div class="identifier"><span>wegen</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/05-spatial.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">nummer</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">vak</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">naam</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">soort</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">shape_length</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div></div></div><div class="block" id="table-years" data-schema=""><div class="identifier"><span>years</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/01-tables/01-general.sql</div><div style="clear:both"></div></div><div class="comment"><div class="note">Columns:</div><div class="column"><span class="columnname">year</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">year_category</span> <span class="columntype">year_category_type</span></div><div class="column"><span class="columnname">scenario_id</span> <span class="columntype">integer</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-year-category-type">year_category_type</a>, <a href="#table-scenarios">scenarios</a></div></div></div><div class="object">VIEW</div><div class="objectclearer"></div><div class="block" id="view-check-totals-view" data-schema=""><div class="identifier"><span>check_totals_view</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/01-general.sql</div><div style="clear:both"></div></div><div class="comment">View die<div class="note">Columns:</div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">smallint</span></div><div class="column"><span class="columnname">gcn_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">em_nt</span> <span class="columntype">numeric</span></div><div class="column"><span class="columnname">em_reg</span> <span class="columntype">numeric</span></div><div class="column"><span class="columnname">verschil</span> <span class="columntype">numeric</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-substances">substances</a>, <a href="#table-er-emissie-nationaal-erc">er_emissie_nationaal_erc</a>, <a href="#view-verfijnde-emissies-geregionaliseerd-view">verfijnde_emissies_geregionaliseerd_view</a></div></div></div><div class="block" id="view-report-emissions-ammonia-agriculture-nl" data-schema="report"><div class="identifier"><span class="schema">report.</span><span>emissions_ammonia_agriculture_nl</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/02-report.sql</div><div style="clear:both"></div></div><div class="comment">View die de stikstof-emissie van de landbouwsector retourneert, uitgesplitst in 9 (deels samengestelde) deelsectoren.<br>De emissies worden weergegeven in kton per jaar per sector, voor de jaren 2005 t/m 2040.<div class="note">Columns:</div><div class="column"><span class="columnname">dataset</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emission_year</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sector</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_in_kton</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a>, <a href="#table-pbl-sectors">pbl_sectors</a>, <a href="#table-dataset">dataset</a>, <a href="#table-emissie-totalen">emissie_totalen</a></div></div></div><div class="block" id="view-report-emissions-ammonia-nl" data-schema="report"><div class="identifier"><span class="schema">report.</span><span>emissions_ammonia_nl</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/02-report.sql</div><div style="clear:both"></div></div><div class="comment">View die de ammoniak-emissie in kton per PBL-sector, jaar en substance retourneert vanaf 2005 t/m 2040.<div class="note">Columns:</div><div class="column"><span class="columnname">dataset</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emission_year</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sector</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_in_kton</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-pbl-sectors">pbl_sectors</a>, <a href="#table-dataset">dataset</a>, <a href="#table-emissie-totalen">emissie_totalen</a></div></div></div><div class="block" id="view-report-emissions-nitrogen-oxides-mobility-nl" data-schema="report"><div class="identifier"><span class="schema">report.</span><span>emissions_nitrogen_oxides_mobility_nl</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/02-report.sql</div><div style="clear:both"></div></div><div class="comment">View die de stikstof-emissie van de mobiliteitssector  retourneert, uitgesplitst in 7 (deels samengestelde) deelsectoren.<br>De emissies worden weergegeven in kton per jaar per sector, voor de jaren 2005 t/m 2040.<div class="note">Columns:</div><div class="column"><span class="columnname">dataset</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sector</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_in_kton</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sectors">gcn_sectors</a>, <a href="#table-pbl-sectors">pbl_sectors</a>, <a href="#table-dataset">dataset</a>, <a href="#table-emissie-totalen">emissie_totalen</a></div></div></div><div class="block" id="view-report-emissions-nitrogen-oxides-nl" data-schema="report"><div class="identifier"><span class="schema">report.</span><span>emissions_nitrogen_oxides_nl</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/02-report.sql</div><div style="clear:both"></div></div><div class="comment">View die de stikstofoxiden-emissie in kton per PBL-sector, jaar en substance retourneert vanaf 2005 t/m 2040.<div class="note">Columns:</div><div class="column"><span class="columnname">dataset</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emission_year</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">sector</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">emissie_in_kton</span> <span class="columntype">double precision</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-pbl-sectors">pbl_sectors</a>, <a href="#table-dataset">dataset</a>, <a href="#table-emissie-totalen">emissie_totalen</a></div></div></div><div class="block" id="view-source-characteristics-view" data-schema=""><div class="identifier"><span>source_characteristics_view</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/01-general.sql</div><div style="clear:both"></div></div><div class="comment">View die<div class="note">Columns:</div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">smallint</span></div><div class="column"><span class="columnname">heat_content</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">height</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">spread</span> <span class="columntype">real</span></div><div class="column"><span class="columnname">emission_diurnal_variation_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">particle_size_distribution</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">diurnal_variation_code</span> <span class="columntype">text</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-gcn-sector-source-characteristics">gcn_sector_source_characteristics</a>, <a href="#table-emission-diurnal-variations">emission_diurnal_variations</a></div></div></div><div class="block" id="view-system-constants-view" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>constants_view</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/04-system-constants.sql</div><div style="clear:both"></div></div><div class="comment">View containing the union of web application (system) and database (public) constants.<div class="note">Columns:</div><div class="column"><span class="columnname">key</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">value</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">description</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">type</span> <span class="columntype">constant_type</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-constant-type">constant_type</a>, <a href="#table-constants">constants</a>, <a href="#table-system-constants">system.constants</a></div></div></div><div class="block" id="view-verfijnde-emissies-geregionaliseerd-view" data-schema=""><div class="identifier"><span>verfijnde_emissies_geregionaliseerd_view</span><div class="fileref">&lrm;main/sql/er-emissions/10-public/02-views/01-general.sql</div><div style="clear:both"></div></div><div class="comment">View die<div class="note">Columns:</div><div class="column"><span class="columnname">tle_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">ai_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">substance_id</span> <span class="columntype">smallint</span></div><div class="column"><span class="columnname">gcn_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">er_stof_code</span> <span class="columntype">text</span></div><div class="column"><span class="columnname">gcn_sector_id</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissiejaar</span> <span class="columntype">integer</span></div><div class="column"><span class="columnname">emissie_kg</span> <span class="columntype">double precision</span></div><div class="column"><span class="columnname">geometry</span> <span class="columntype">geometry</span></div><div class="note">References:</div><div class="dependencies"><a href="#table-substances">substances</a>, <a href="#table-er-emissie-verfijnd">er_emissie_verfijnd</a>, <a href="#table-geo-verfijnd">geo_verfijnd</a></div></div></div><div class="object">FUNCTION</div><div class="objectclearer"></div><div class="block" id="function-ae-abs-threshold-008b0ec0d52e65ac" data-schema=""><div class="identifier"><span>ae_abs_threshold</span><span class="arguments">(x real, threshold real)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Helper function which returns the x value as an absolute value when it is above the threshold, otherwise returns NULL.<div class="note">Parameters:</div><div class="param"><span class="paramname">x</span> <span class="paramtype">real</span></div><div class="param"><span class="paramname">threshold</span> <span class="paramtype">real</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">real</span></div></div></div><div class="block" id="function-ae-array-index-ad441e22e21ab524" data-schema=""><div class="identifier"><span>ae_array_index</span><span class="arguments">(anyarray, anyelement)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Helper function which returns the index (of the first match) of anyelement in anyarray.<div class="note">Parameters:</div><div class="param"><span class="paramname">$1</span> <span class="paramtype">anyarray</span></div><div class="param"><span class="paramname">$2</span> <span class="paramtype">anyelement</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">integer</span></div></div></div><div class="block" id="function-ae-array-to-index-d74049eb58ed6e8d" data-schema=""><div class="identifier"><span>ae_array_to_index</span><span class="arguments">(anyarray anyarray, anyelement anyelement)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/05-type_conversion.sql</div><div style="clear:both"></div></div><div class="comment">Index (starting by 1, standard postgres) of the first element in anyarray that is equal to anyelement.<br>Returns NULL when anylement is not present in anyarray.<div class="note">Parameters:</div><div class="param"><span class="paramname">anyarray</span> <span class="paramtype">anyarray</span></div><div class="param"><span class="paramname">anyelement</span> <span class="paramtype">anyelement</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">integer</span></div></div></div><div class="block" id="function-ae-constant-f52a811f05237a05" data-schema=""><div class="identifier"><span>ae_constant</span><span class="arguments">(constant_key text)</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/03-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function returning the value of a database constant.<br>When the constant does not exist in the constants table, an exception is raised.<div class="note">Parameters:</div><div class="param"><span class="paramname">constant_key</span> <span class="paramtype">text</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">text</span></div></div></div><div class="block" id="function-ae-distribute-enum-sfunc-20262cddfac8c412" data-schema=""><div class="identifier"><span>ae_distribute_enum_sfunc</span><span class="arguments">(state numeric[], key anyenum, weight numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">State function for enum distribution function &#39;ae_distribute_enum&#39;.<br>Tracks an array with an element for each value in the enum, and sums the weight according to the supplied enum values.<div class="note">Parameters:</div><div class="param"><span class="paramname">state</span> <span class="paramtype">numeric[]</span></div><div class="param"><span class="paramname">key</span> <span class="paramtype">anyenum</span></div><div class="param"><span class="paramname">weight</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric[]</span></div></div></div><div class="block" id="function-ae-enum-by-index-63b61f74bade0172" data-schema=""><div class="identifier"><span>ae_enum_by_index</span><span class="arguments">(anyenum anyenum, index integer)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/05-type_conversion.sql</div><div style="clear:both"></div></div><div class="comment">Anynum on index position (starting by 1, standard postgres) in the type definition of its enum type.<br>Returns NULL when the index is invalid.<div class="note">Parameters:</div><div class="param"><span class="paramname">anyenum</span> <span class="paramtype">anyenum</span></div><div class="param"><span class="paramname">index</span> <span class="paramtype">integer</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">anyenum</span></div></div></div><div class="block" id="function-ae-enum-to-index-5344390475016aaa" data-schema=""><div class="identifier"><span>ae_enum_to_index</span><span class="arguments">(anyenum anyenum)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/05-type_conversion.sql</div><div style="clear:both"></div></div><div class="comment">Index (starting by 1, standard postgres) of anyenum in the type definition of it&#39;s enum type.<div class="note">Parameters:</div><div class="param"><span class="paramname">anyenum</span> <span class="paramtype">anyenum</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">integer</span></div></div></div><div class="block" id="function-ae-get-calculator-grid-boundary-box-2e38e77b22c314a4" data-schema=""><div class="identifier"><span>ae_get_calculator_grid_boundary_box</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/03-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function returning the bounding box for calculator, based on the CALCULATOR_GRID_BOUNDARY_BOX constant value.<div class="note">Returns:</div><div class="returns"><span class="returntype">box2d</span></div></div></div><div class="block" id="function-ae-get-srid-2e38e77b22c314a4" data-schema=""><div class="identifier"><span>ae_get_srid</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/03-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function returning the default SRID value.<div class="note">Returns:</div><div class="returns"><span class="returntype">integer</span></div></div></div><div class="block" id="function-ae-linear-interpolate-157c5594421bb24f" data-schema=""><div class="identifier"><span>ae_linear_interpolate</span><span class="arguments">(xb double precision, xe double precision, yb double precision, ye double precision, xi double precision)</span><div style="clear:both"></div></div><div class="comment"><div class="note">Parameters:</div><div class="param"><span class="paramname">xb</span> <span class="paramtype">double precision</span></div><div class="param"><span class="paramname">xe</span> <span class="paramtype">double precision</span></div><div class="param"><span class="paramname">yb</span> <span class="paramtype">double precision</span></div><div class="param"><span class="paramname">ye</span> <span class="paramtype">double precision</span></div><div class="param"><span class="paramname">xi</span> <span class="paramtype">double precision</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">double precision</span></div></div></div><div class="block" id="function-ae-linear-interpolate-7a1fa297fa51f62f" data-schema=""><div class="identifier"><span>ae_linear_interpolate</span><span class="arguments">(xb float, xe float, yb float, ye float, xi float)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Linear interpolation function.<br><br>xb, yb = Start point<br>xe, ye = End point<br>xi = the x value to interpolate the y value for.<br>Expects a float for each value, and returns a float.</div></div><div class="block" id="function-ae-linear-interpolate-f1a41dc44baf2611" data-schema=""><div class="identifier"><span>ae_linear_interpolate</span><span class="arguments">(xb integer, xe integer, yb real, ye real, xi integer)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Linear interpolation function.<br><br>xb, yb = Start point<br>xe, ye = End point<br>xi = the x value to interpolate the y value for.<br>Expects integer values for xb,xe and xi.<br>Expects real values for yb and ye.<br>Returns a real value.<div class="note">Parameters:</div><div class="param"><span class="paramname">xb</span> <span class="paramtype">integer</span></div><div class="param"><span class="paramname">xe</span> <span class="paramtype">integer</span></div><div class="param"><span class="paramname">yb</span> <span class="paramtype">real</span></div><div class="param"><span class="paramname">ye</span> <span class="paramtype">real</span></div><div class="param"><span class="paramname">xi</span> <span class="paramtype">integer</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">real</span></div></div></div><div class="block" id="function-ae-max-with-key-ffunc-ac32afb6e7710a11" data-schema=""><div class="identifier"><span>ae_max_with_key_ffunc</span><span class="arguments">(state numeric[2])</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Final function for &#39;ae_max_with_key&#39;.<br>This function is used to shape the endresult into the correct type.<div class="note">Parameters:</div><div class="param"><span class="paramname">state</span> <span class="paramtype">numeric[]</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">ae_key_value_rs</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-ae-key-value-rs">ae_key_value_rs</a></div></div></div><div class="block" id="function-ae-max-with-key-sfunc-dd6d60a97a269564" data-schema=""><div class="identifier"><span>ae_max_with_key_sfunc</span><span class="arguments">(state numeric[2], e1 numeric, e2 numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">State function for &#39;ae_max_with_key&#39;.<div class="note">Parameters:</div><div class="param"><span class="paramname">state</span> <span class="paramtype">numeric[]</span></div><div class="param"><span class="paramname">e1</span> <span class="paramtype">numeric</span></div><div class="param"><span class="paramname">e2</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric[]</span></div></div></div><div class="block" id="function-ae-median-b3a8f4391e26786d" data-schema=""><div class="identifier"><span>ae_median</span><span class="arguments">(unsorted_array numeric[])</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Function to calculate the median based on an unsorted list. Identical to 50% percentile.<br>Remark: there is no aggregate version of this function due to very bad performance.<div class="note">Parameters:</div><div class="param"><span class="paramname">unsorted_array</span> <span class="paramtype">numeric[]</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric</span></div></div></div><div class="block" id="function-ae-percentile-df77240c8d81de04" data-schema=""><div class="identifier"><span>ae_percentile</span><span class="arguments">(unsorted_array numeric[], percentile int)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Function to calculate the percentile based on an unsorted list.<br>Remark: there is no aggregate version of this function due to very bad performance.<div class="note">Parameters:</div><div class="param"><span class="paramname">unsorted_array</span> <span class="paramtype">numeric[]</span></div><div class="param"><span class="paramname">percentile</span> <span class="paramtype">integer</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric</span></div></div></div><div class="block" id="function-ae-percentile-sorted-array-76a8e3244d20f627" data-schema=""><div class="identifier"><span>ae_percentile_sorted_array</span><span class="arguments">(sorted_array numeric[], percentile int)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Function to calculate the percentile based on a sorted array.<div class="note">Parameters:</div><div class="param"><span class="paramname">sorted_array</span> <span class="paramtype">numeric[]</span></div><div class="param"><span class="paramname">percentile</span> <span class="paramtype">integer</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric</span></div></div></div><div class="block" id="function-ae-protect-table-2e38e77b22c314a4" data-schema=""><div class="identifier"><span>ae_protect_table</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Simple trigger function to make a table readonly.<br>Useful for &#39;abstract base tables&#39;.<div class="note">Returns:</div><div class="returns"><span class="returntype">trigger</span></div></div></div><div class="block" id="function-ae-raise-notice-af2bf770483b773c" data-schema=""><div class="identifier"><span>ae_raise_notice</span><span class="arguments">(message text)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Function for showing report messages, mainly during a database build.<br>This is a wrapper around the plpgsql notice function, so this can be called from normal SQL (outside a function).<div class="note">Parameters:</div><div class="param"><span class="paramname">message</span> <span class="paramtype">text</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-ae-weighted-avg-ffunc-1e9d7a8237de52be" data-schema=""><div class="identifier"><span>ae_weighted_avg_ffunc</span><span class="arguments">(state numeric[])</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Final function for the weighted average function &#39;ae_weighted_avg&#39;.<br>Divides the total of the weighted values by the total of the weights (which were collected in an array with 2 values).<div class="note">Parameters:</div><div class="param"><span class="paramname">state</span> <span class="paramtype">numeric[]</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric</span></div></div></div><div class="block" id="function-ae-weighted-avg-sfunc-763de1d21dd2e5bc" data-schema=""><div class="identifier"><span>ae_weighted_avg_sfunc</span><span class="arguments">(state numeric[], value numeric, weight numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">State function for the weighted average function &#39;ae_weighted_avg&#39;.<br>Collects the total of weighted values and the total of weights in an array with 2 values.<div class="note">Parameters:</div><div class="param"><span class="paramname">state</span> <span class="paramtype">numeric[]</span></div><div class="param"><span class="paramname">value</span> <span class="paramtype">numeric</span></div><div class="param"><span class="paramname">weight</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric[]</span></div></div></div><div class="block" id="function-setup-ae-checksum-all-c3e357cc049c5ddc" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_checksum_all</span><span class="arguments">(v_excluded_data_tables regclass[] = NULL)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Function to generate checksums for all important database objects.<br>In the case of tables, a separate checksum is made for the structure and the data.<br>For the data checksums some tables can be skipped, for example when the content is dynamic and it does not make sense to check/compare checksums.<br><br>The (sorted) result of the function can be saved to compare it with another database.<br>For example after patching a production database, to check if it matches the last build.<br><br>Catalog objects and objects of extensions like PostGIS are automatically filtered out.<div class="note">Parameters:</div><div class="param"><span class="paramname">v_excluded_data_tables</span> <span class="paramtype">regclass[]</span> &ndash; <span class="paramcomment">List of tables for which no data checksum should be generated.</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">TABLE(objecttype text, description text, checksum bigint)</span> &ndash; Per object type a name or description of the object, and the checksum of the definiton/data of that object</div></div></div><div class="block" id="function-setup-ae-cluster-all-tables-2e38e77b22c314a4" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_cluster_all_tables</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Function to cluster all tables in the database based on their primary key.<br>Once the constraint (in this case the primary key) has been set, in the future clustering can be done by using: CLUSTER databasname.<div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-setup-ae-execute-unittest-2daa4aaf0cebc8b6" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_execute_unittest</span><span class="arguments">(v_function regproc)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Function to execute the supplied (unit test) function.<br>In case of an exception (which should be the case when an assert in the unit test fails), the exception is caught, parsed, and the exception message, line number and first context line number are all returned in a record.<br>A unit test should fail on the first exception, so this function should never return more than 1 record.<br>When no records are returned, the unit test was succesfull.<div class="note">Parameters:</div><div class="param"><span class="paramname">v_function</span> <span class="paramtype">regproc</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">TABLE(errcode text, message text, linenr integer, context text)</span></div></div></div><div class="block" id="function-setup-ae-list-unittest-functions-0d4df1ac6f809085" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_list_unittest_functions</span><span class="arguments">(v_prefix text)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Function that returns a list of all functions starting with the supplied prefix.<br>Functions that are part of an extension or part of the PostgreSQL catalog are not returned.<br>Returns the function name (including schema), the arguments and the return value of the function.<div class="note">Parameters:</div><div class="param"><span class="paramname">v_prefix</span> <span class="paramtype">text</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">TABLE(name regproc, args text, returns text)</span></div></div></div><div class="block" id="function-setup-ae-store-query-daa7f94378443839" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_store_query</span><span class="arguments">(queryname text, sql_in text, filespec text, use_pretty_csv_format boolean = FALSE)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/04-load_store_data.sql</div><div style="clear:both"></div></div><div class="comment">Function to store the results of the supplied query string to the supplied file.<br>In the filename the parts {tablename} or {queryname} can be used, these will be replaced by the supplied queryname.<br>Additionally, the part {datesuffix} can be used, which will be replaced with the current date in YYYYMMDD format.<br><br>The export is tab-separated CSV.<br>The optional parameter use_pretty_csv_format can be used to generate a file with (true) or without (false) a header.<div class="note">Parameters:</div><div class="param"><span class="paramname">queryname</span> <span class="paramtype">text</span> &ndash; <span class="paramcomment">The name of the query.</span></div><div class="param"><span class="paramname">sql_in</span> <span class="paramtype">text</span> &ndash; <span class="paramcomment">The actual query string to export the results for.</span></div><div class="param"><span class="paramname">filespec</span> <span class="paramtype">text</span> &ndash; <span class="paramcomment">The file to export to.</span></div><div class="param"><span class="paramname">use_pretty_csv_format</span> <span class="paramtype">boolean</span> &ndash; <span class="paramcomment">Optional parameter to specify if file is generated with a header (true) or not (false). Default false.</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-setup-ae-store-table-4700a0197e4e4ab8" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_store_table</span><span class="arguments">(tablename regclass, filespec text, ordered bool = FALSE, use_pretty_csv_format boolean = FALSE)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/04-load_store_data.sql</div><div style="clear:both"></div></div><div class="comment">Copies the data of the supplied table to the supplied file.<br>In the filename the parts {tablename} or {queryname} can be used, these will be replaced by the supplied table name.<br>Additionally, the part {datesuffix} can be used, which will be replaced with the current date in YYYYMMDD format.<br><br>The export is tab-separated CSV.<br>The optional parameter use_pretty_csv_format can be used to generate a file with (true) or without (false) a header. The default is false.<div class="note">Parameters:</div><div class="param"><span class="paramname">tablename</span> <span class="paramtype">regclass</span> &ndash; <span class="paramcomment">The name of the table to export.</span></div><div class="param"><span class="paramname">filespec</span> <span class="paramtype">text</span> &ndash; <span class="paramcomment">The file to export to.</span></div><div class="param"><span class="paramname">ordered</span> <span class="paramtype">boolean</span> &ndash; <span class="paramcomment">Optional parameter to indicate if export should be ordered or not. If true, the table is sorted by all columns, starting with the first column. Default false.</span></div><div class="param"><span class="paramname">use_pretty_csv_format</span> <span class="paramtype">boolean</span> &ndash; <span class="paramcomment">Optional parameter to specify if file is generated with a header (true) or not (false). Default false.</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-setup-ae-synchronize-all-serials-2e38e77b22c314a4" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_synchronize_all_serials</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Function to synchronize serials/sequences.<br>All functions with naming convention tablename_columnname_seq are set to the max value of that column in that table.<br><br>Serials/sequences can get out of sync with the actual content of the database after bulk loads, COPY FROMs and INSERTs without defaults.<br>This function makes sure sequences match the content once again.<br>This is for instance used after a database build.<div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-setup-ae-validate-all-2e38e77b22c314a4" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>ae_validate_all</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/03-build.sql</div><div style="clear:both"></div></div><div class="comment">Empty (default) ae_validate_all function.<br><br>Called during build by ruby build script.<br>Can be overwritten by each product to perform some actual validations.<div class="note">Returns:</div><div class="returns"><span class="returntype">TABLE(validaton_result_id integer, validation_run_id integer, name regproc, result setup.validation_result_type)</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-setup-validation-result-type">setup.validation_result_type</a></div></div></div><div class="block" id="function-system-ae-constant-f52a811f05237a05" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>ae_constant</span><span class="arguments">(constant_key text)</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/04-system-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function returning the value of a database or web application constant.<br>When the constant does not exist in the view system.constants_view, an exception is raised.<div class="note">Parameters:</div><div class="param"><span class="paramname">constant_key</span> <span class="paramtype">text</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">text</span></div></div></div><div class="block" id="function-system-ae-get-git-revision-2e38e77b22c314a4" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>ae_get_git_revision</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/04-system-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function returning the revision value, which is stored as a web application constant.<div class="note">Returns:</div><div class="returns"><span class="returntype">text</span></div></div></div><div class="block" id="function-system-ae-set-constant-965b2895d9629fcc" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>ae_set_constant</span><span class="arguments">(constant_key text, constant_value text)</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/04-system-constants.sql</div><div style="clear:both"></div></div><div class="comment">Function to change the value of a web application constant.<br>When the constant does not yet exist in the system.constants table, an exception is raised.<div class="note">Parameters:</div><div class="param"><span class="paramname">constant_key</span> <span class="paramtype">text</span></div><div class="param"><span class="paramname">constant_value</span> <span class="paramtype">text</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-system-cluster-all-tables-2e38e77b22c314a4" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>cluster_all_tables</span><span class="arguments">()</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Function to cluster all tables in the database based on their primary key.<br>Once the constraint (in this case the primary key) has been set, in the future clustering can be done by using: CLUSTER databasename.<div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="block" id="function-system-load-table-60dddc4944232751" data-schema="system"><div class="identifier"><span class="schema">system.</span><span>load_table</span><span class="arguments">(tablename regclass, filespec text, use_pretty_csv_format boolean = TRUE, document_metadata boolean = FALSE)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/04-load_store_data.sql</div><div style="clear:both"></div></div><div class="comment">Function to copy the data of the supplied file to the supplied table.<br>The file should contain tab-separated text with a header.<br>This function is extended with the option to write the loaded file-version to the metadata- table.<div class="note">Parameters:</div><div class="param"><span class="paramname">tablename</span> <span class="paramtype">regclass</span> &ndash; <span class="paramcomment">The table to copy to.</span></div><div class="param"><span class="paramname">filespec</span> <span class="paramtype">text</span> &ndash; <span class="paramcomment">The file to copy from</span></div><div class="param"><span class="paramname">use_pretty_csv_format</span> <span class="paramtype">boolean</span> &ndash; <span class="paramcomment">Optional parameter to specify if file contains a header (true) or not (false). Default true.</span></div><div class="param"><span class="paramname">document_metadata</span> <span class="paramtype">boolean</span> &ndash; <span class="paramcomment">Optional parameter to specify if the version of the loaded table must documented in the metadata- table. Default false</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">void</span></div></div></div><div class="object">AGGREGATE</div><div class="objectclearer"></div><div class="block" id="aggregate-ae-distribute-enum-1f6d13deb6b2a4f3" data-schema=""><div class="identifier"><span>ae_distribute_enum</span><span class="arguments">(anyenum, numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Aggregate function to count the occurrence of values in an enum, weighted if need be.<br>First parameter is an enum value, second parameter is the weight which should be summed for that enum value.<br>As an example, the weight can be 1 to count the number of occurrences of each enum value, or a &#39;surface&#39; column to sum the surface per enum value.<br>The return value is an array with as many elements as there are values in the enum, in same order as the enum is defined.<br>Each element consists of the summed value for each respective enum value.<br>NULL values are skipped, and if there are no non-NULL values, NULL will be returned.<div class="note">Parameters:</div><div class="param"><span class="paramname">$1</span> <span class="paramtype">anyenum</span></div><div class="param"><span class="paramname">$2</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric[]</span></div><div class="note">References:</div><div class="dependencies"><a href="#function-ae-distribute-enum-sfunc-20262cddfac8c412">ae_distribute_enum_sfunc(state numeric[], key anyenum, weight numeric)</a></div></div></div><div class="block" id="aggregate-ae-max-with-key-e46b9492f3764918" data-schema=""><div class="identifier"><span>ae_max_with_key</span><span class="arguments">(numeric, numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Aggregate function to determine the maximum value in a list of key-values, returning both the key and the value.<br>Input consists of 2 numeric arguments, first should be the key, second should be the value.<br>Output is of the type ae_key_value_rs (which also consists of a numeric key and numeric value).<div class="note">Parameters:</div><div class="param"><span class="paramname">$1</span> <span class="paramtype">numeric</span></div><div class="param"><span class="paramname">$2</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">ae_key_value_rs</span></div><div class="note">References:</div><div class="dependencies"><a href="#type-ae-key-value-rs">ae_key_value_rs</a>, <a href="#function-ae-max-with-key-sfunc-dd6d60a97a269564">ae_max_with_key_sfunc(state numeric[2], e1 numeric, e2 numeric)</a>, <a href="#function-ae-max-with-key-ffunc-ac32afb6e7710a11">ae_max_with_key_ffunc(state numeric[2])</a></div></div></div><div class="block" id="aggregate-ae-weighted-avg-e46b9492f3764918" data-schema=""><div class="identifier"><span>ae_weighted_avg</span><span class="arguments">(numeric, numeric)</span><div class="fileref">&lrm;main/sql/common/essentials/03-functions/02-aggregate.sql</div><div style="clear:both"></div></div><div class="comment">Aggregate function to determine a weighted average.<br>First parameter is the value, second parameter is the weight.<br>NULL values are skipped, and if there are no non-NULL values, NULL will be returned.<div class="note">Parameters:</div><div class="param"><span class="paramname">$1</span> <span class="paramtype">numeric</span></div><div class="param"><span class="paramname">$2</span> <span class="paramtype">numeric</span></div><div class="note">Returns:</div><div class="returns"><span class="returntype">numeric</span></div><div class="note">References:</div><div class="dependencies"><a href="#function-ae-weighted-avg-sfunc-763de1d21dd2e5bc">ae_weighted_avg_sfunc(state numeric[], value numeric, weight numeric)</a>, <a href="#function-ae-weighted-avg-ffunc-1e9d7a8237de52be">ae_weighted_avg_ffunc(state numeric[])</a></div></div></div><div class="object">TYPE</div><div class="objectclearer"></div><div class="block" id="type-ae-key-value-rs" data-schema=""><div class="identifier"><span>ae_key_value_rs</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Type used as a return type in the case where a key-value pair is returned.<br>Intended for use by the aggregate function ae_max_with_key, but can be used for other means as well.</div></div><div class="block" id="type-constant-type" data-schema=""><div class="identifier"><span>constant_type</span><div class="fileref">&lrm;main/sql/common/essentials/00-init/03-constants.sql</div><div style="clear:both"></div></div><div class="comment">Specifies the type of a constant.</div></div><div class="block" id="type-setup-validation-result" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>validation_result</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/02-setup.sql</div><div style="clear:both"></div></div><div class="comment">Type used as a return type for validation results.</div></div><div class="block" id="type-setup-validation-result-type" data-schema="setup"><div class="identifier"><span class="schema">setup.</span><span>validation_result_type</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/02-setup.sql</div><div style="clear:both"></div></div><div class="comment">Enum type for the different validation results.<br>The order of this enum is important, and runs from low to high.</div></div><div class="block" id="type-year-category-type" data-schema=""><div class="identifier"><span>year_category_type</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Jaarcategorie, voor welke toepassing een jaar wordt gebruikt.<br>source = Het jaar waarvan de bronbestanden zijn berekend.<br>last = Achtergrond depostitie (calculator).<br>past = Een jaar in het verleden die niet &#39;last&#39; is.<br>future = Prognosejaren.<br>reference = Vergelijkingsjaar voor prognoses.<br>Het referentie jaar kan hierdoor afwijken van het achtergrond-depositie jaar</div></div><div class="object">DOMAIN</div><div class="objectclearer"></div><div class="block" id="domain-fraction" data-schema=""><div class="identifier"><span>fraction</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Real (decimal) value type between 0 and 1 (inclusive), specifying fractions.<br>Used for the habitat coverage factor for example.</div></div><div class="block" id="domain-posint" data-schema=""><div class="identifier"><span>posint</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Integer value type which can only be positive or 0.<br>Used for the diameter of a source for example.</div></div><div class="block" id="domain-posreal" data-schema=""><div class="identifier"><span>posreal</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Real (decimal) value type which can only be positive or 0.<br>Used for depositions for example.</div></div><div class="block" id="domain-year-type" data-schema=""><div class="identifier"><span>year_type</span><div class="fileref">&lrm;main/sql/common/essentials/01-types/01-general.sql</div><div style="clear:both"></div></div><div class="comment">Small integer value type which can only be valid years (2000-2050 currently).<br>Used for background years for example.</div></div><div class="object">DATA SOURCES</div><div class="objectclearer"></div><table class="datasources-table"><tr id="datasource-gcn-sectors" data-schema=""><th><a href="#table-gcn-sectors">gcn_sectors</a></th><td><div>gcn_sectors_export-m25-er-verdeling.txt</div></td></tr><tr id="datasource-pbl-sectors" data-schema=""><th><a href="#table-pbl-sectors">pbl_sectors</a></th><td><div>pbl_sectors_20241025.txt</div></td></tr><tr id="datasource-sectorgroups" data-schema=""><th><a href="#table-sectorgroups">sectorgroups</a></th><td><div>sectorgroups_export-m25-er-verdeling.txt</div></td></tr><tr id="datasource-sectors" data-schema=""><th><a href="#table-sectors">sectors</a></th><td><div>sectors_export-m25-er-verdeling.txt</div></td></tr></table></div><div class="toc"><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">SCHEMA</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#schema-public">public</a> </div><div class="toc-entry" data-schema="report"><a href="#schema-report">report</a> </div><div class="toc-entry" data-schema="report"><a href="#schema-report-report">report.report</a> </div><div class="toc-entry" data-schema="setup"><a href="#schema-setup">setup</a> </div><div class="toc-entry" data-schema="setup"><a href="#schema-setup-setup">setup.setup</a> </div><div class="toc-entry" data-schema="system"><a href="#schema-system">system</a> </div><div class="toc-entry" data-schema="system"><a href="#schema-system-system">system.system</a> </div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">TABLE</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#table-binnenvaart">binnenvaart</a> </div><div class="toc-entry" data-schema=""><a href="#table-constants">constants</a> </div><div class="toc-entry" data-schema=""><a href="#table-dataset">dataset</a> </div><div class="toc-entry" data-schema=""><a href="#table-emissie-totalen">emissie_totalen</a> </div><div class="toc-entry" data-schema=""><a href="#table-emissieoorzaken">emissieoorzaken</a> </div><div class="toc-entry" data-schema=""><a href="#table-emission-diurnal-variations">emission_diurnal_variations</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-individueel">er_emissie_individueel</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-nationaal-erc">er_emissie_nationaal_erc</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-nationaal-eri">er_emissie_nationaal_eri</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-per-emissieoorzaak">er_emissie_per_emissieoorzaak</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-verfijnd">er_emissie_verfijnd</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-vierkanten">er_emissie_vierkanten</a> </div><div class="toc-entry" data-schema=""><a href="#table-er-emissie-vliegvelden">er_emissie_vliegvelden</a> </div><div class="toc-entry" data-schema=""><a href="#table-gcn-sector-source-characteristics">gcn_sector_source_characteristics</a> </div><div class="toc-entry" data-schema=""><a href="#table-gcn-sectors">gcn_sectors</a> </div><div class="toc-entry" data-schema=""><a href="#table-geo-eri">geo_eri</a> </div><div class="toc-entry" data-schema=""><a href="#table-geo-verfijnd">geo_verfijnd</a> </div><div class="toc-entry" data-schema=""><a href="#table-geo-vierkanten">geo_vierkanten</a> </div><div class="toc-entry" data-schema=""><a href="#table-geo-vliegvelden">geo_vliegvelden</a> </div><div class="toc-entry" data-schema=""><a href="#table-giab">giab</a> </div><div class="toc-entry" data-schema=""><a href="#table-initiator">initiator</a> </div><div class="toc-entry" data-schema=""><a href="#table-mestverwerkers">mestverwerkers</a> </div><div class="toc-entry" data-schema=""><a href="#table-metadata">metadata</a> </div><div class="toc-entry" data-schema=""><a href="#table-pbl-sectors">pbl_sectors</a> </div><div class="toc-entry" data-schema=""><a href="#table-recreatievaart">recreatievaart</a> </div><div class="toc-entry" data-schema=""><a href="#table-scale-factors">scale_factors</a> </div><div class="toc-entry" data-schema=""><a href="#table-scenarios">scenarios</a> </div><div class="toc-entry" data-schema=""><a href="#table-sectorgroups">sectorgroups</a> </div><div class="toc-entry" data-schema=""><a href="#table-sectors">sectors</a> </div><div class="toc-entry" data-schema=""><a href="#table-spoorwegen">spoorwegen</a> </div><div class="toc-entry" data-schema=""><a href="#table-substances">substances</a> </div><div class="toc-entry" data-schema="system"><a href="#table-system-constants">system.constants</a> </div><div class="toc-entry" data-schema=""><a href="#table-verfijning-type">verfijning_type</a> </div><div class="toc-entry" data-schema=""><a href="#table-wegen">wegen</a> </div><div class="toc-entry" data-schema=""><a href="#table-years">years</a> </div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">VIEW</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#view-check-totals-view">check_totals_view</a> </div><div class="toc-entry" data-schema="report"><a href="#view-report-emissions-ammonia-agriculture-nl">report.emissions_ammonia_agriculture_nl</a> </div><div class="toc-entry" data-schema="report"><a href="#view-report-emissions-ammonia-nl">report.emissions_ammonia_nl</a> </div><div class="toc-entry" data-schema="report"><a href="#view-report-emissions-nitrogen-oxides-mobility-nl">report.emissions_nitrogen_oxides_mobility_nl</a> </div><div class="toc-entry" data-schema="report"><a href="#view-report-emissions-nitrogen-oxides-nl">report.emissions_nitrogen_oxides_nl</a> </div><div class="toc-entry" data-schema=""><a href="#view-source-characteristics-view">source_characteristics_view</a> </div><div class="toc-entry" data-schema="system"><a href="#view-system-constants-view">system.constants_view</a> </div><div class="toc-entry" data-schema=""><a href="#view-verfijnde-emissies-geregionaliseerd-view">verfijnde_emissies_geregionaliseerd_view</a> </div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">FUNCTION</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#function-ae-abs-threshold-008b0ec0d52e65ac">ae_abs_threshold</a> (x real, threshold real)</div><div class="toc-entry" data-schema=""><a href="#function-ae-array-index-ad441e22e21ab524">ae_array_index</a> (anyarray, anyelement)</div><div class="toc-entry" data-schema=""><a href="#function-ae-array-to-index-d74049eb58ed6e8d">ae_array_to_index</a> (anyarray anyarray, anyelement anyelement)</div><div class="toc-entry" data-schema=""><a href="#function-ae-constant-f52a811f05237a05">ae_constant</a> (constant_key text)</div><div class="toc-entry" data-schema=""><a href="#function-ae-distribute-enum-sfunc-20262cddfac8c412">ae_distribute_enum_sfunc</a> (state numeric[], key anyenum, weight numeric)</div><div class="toc-entry" data-schema=""><a href="#function-ae-enum-by-index-63b61f74bade0172">ae_enum_by_index</a> (anyenum anyenum, index integer)</div><div class="toc-entry" data-schema=""><a href="#function-ae-enum-to-index-5344390475016aaa">ae_enum_to_index</a> (anyenum anyenum)</div><div class="toc-entry" data-schema=""><a href="#function-ae-get-calculator-grid-boundary-box-2e38e77b22c314a4">ae_get_calculator_grid_boundary_box</a> ()</div><div class="toc-entry" data-schema=""><a href="#function-ae-get-srid-2e38e77b22c314a4">ae_get_srid</a> ()</div><div class="toc-entry" data-schema=""><a href="#function-ae-linear-interpolate-157c5594421bb24f">ae_linear_interpolate</a> (xb double precision, xe double precision, yb double precision, ye double precision, xi double precision)</div><div class="toc-entry" data-schema=""><a href="#function-ae-linear-interpolate-7a1fa297fa51f62f">ae_linear_interpolate</a> (xb float, xe float, yb float, ye float, xi float)</div><div class="toc-entry" data-schema=""><a href="#function-ae-linear-interpolate-f1a41dc44baf2611">ae_linear_interpolate</a> (xb integer, xe integer, yb real, ye real, xi integer)</div><div class="toc-entry" data-schema=""><a href="#function-ae-max-with-key-ffunc-ac32afb6e7710a11">ae_max_with_key_ffunc</a> (state numeric[2])</div><div class="toc-entry" data-schema=""><a href="#function-ae-max-with-key-sfunc-dd6d60a97a269564">ae_max_with_key_sfunc</a> (state numeric[2], e1 numeric, e2 numeric)</div><div class="toc-entry" data-schema=""><a href="#function-ae-median-b3a8f4391e26786d">ae_median</a> (unsorted_array numeric[])</div><div class="toc-entry" data-schema=""><a href="#function-ae-percentile-df77240c8d81de04">ae_percentile</a> (unsorted_array numeric[], percentile int)</div><div class="toc-entry" data-schema=""><a href="#function-ae-percentile-sorted-array-76a8e3244d20f627">ae_percentile_sorted_array</a> (sorted_array numeric[], percentile int)</div><div class="toc-entry" data-schema=""><a href="#function-ae-protect-table-2e38e77b22c314a4">ae_protect_table</a> ()</div><div class="toc-entry" data-schema=""><a href="#function-ae-raise-notice-af2bf770483b773c">ae_raise_notice</a> (message text)</div><div class="toc-entry" data-schema=""><a href="#function-ae-weighted-avg-ffunc-1e9d7a8237de52be">ae_weighted_avg_ffunc</a> (state numeric[])</div><div class="toc-entry" data-schema=""><a href="#function-ae-weighted-avg-sfunc-763de1d21dd2e5bc">ae_weighted_avg_sfunc</a> (state numeric[], value numeric, weight numeric)</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-checksum-all-c3e357cc049c5ddc">setup.ae_checksum_all</a> (v_excluded_data_tables regclass[])</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-cluster-all-tables-2e38e77b22c314a4">setup.ae_cluster_all_tables</a> ()</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-execute-unittest-2daa4aaf0cebc8b6">setup.ae_execute_unittest</a> (v_function regproc)</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-list-unittest-functions-0d4df1ac6f809085">setup.ae_list_unittest_functions</a> (v_prefix text)</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-store-query-daa7f94378443839">setup.ae_store_query</a> (queryname text, sql_in text, filespec text, use_pretty_csv_format boolean)</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-store-table-4700a0197e4e4ab8">setup.ae_store_table</a> (tablename regclass, filespec text, ordered bool, use_pretty_csv_format boolean)</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-synchronize-all-serials-2e38e77b22c314a4">setup.ae_synchronize_all_serials</a> ()</div><div class="toc-entry" data-schema="setup"><a href="#function-setup-ae-validate-all-2e38e77b22c314a4">setup.ae_validate_all</a> ()</div><div class="toc-entry" data-schema="system"><a href="#function-system-ae-constant-f52a811f05237a05">system.ae_constant</a> (constant_key text)</div><div class="toc-entry" data-schema="system"><a href="#function-system-ae-get-git-revision-2e38e77b22c314a4">system.ae_get_git_revision</a> ()</div><div class="toc-entry" data-schema="system"><a href="#function-system-ae-set-constant-965b2895d9629fcc">system.ae_set_constant</a> (constant_key text, constant_value text)</div><div class="toc-entry" data-schema="system"><a href="#function-system-cluster-all-tables-2e38e77b22c314a4">system.cluster_all_tables</a> ()</div><div class="toc-entry" data-schema="system"><a href="#function-system-load-table-60dddc4944232751">system.load_table</a> (tablename regclass, filespec text, use_pretty_csv_format boolean, document_metadata boolean)</div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">AGGREGATE</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#aggregate-ae-distribute-enum-1f6d13deb6b2a4f3">ae_distribute_enum</a> (anyenum, numeric)</div><div class="toc-entry" data-schema=""><a href="#aggregate-ae-max-with-key-e46b9492f3764918">ae_max_with_key</a> (numeric, numeric)</div><div class="toc-entry" data-schema=""><a href="#aggregate-ae-weighted-avg-e46b9492f3764918">ae_weighted_avg</a> (numeric, numeric)</div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">TYPE</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#type-ae-key-value-rs">ae_key_value_rs</a> </div><div class="toc-entry" data-schema=""><a href="#type-constant-type">constant_type</a> </div><div class="toc-entry" data-schema="setup"><a href="#type-setup-validation-result">setup.validation_result</a> </div><div class="toc-entry" data-schema="setup"><a href="#type-setup-validation-result-type">setup.validation_result_type</a> </div><div class="toc-entry" data-schema=""><a href="#type-year-category-type">year_category_type</a> </div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">DOMAIN</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#domain-fraction">fraction</a> </div><div class="toc-entry" data-schema=""><a href="#domain-posint">posint</a> </div><div class="toc-entry" data-schema=""><a href="#domain-posreal">posreal</a> </div><div class="toc-entry" data-schema=""><a href="#domain-year-type">year_type</a> </div></div></div><div class="toc-block expanded"><div class="toc-header" onclick="toggleTree(this.parentElement)">DATA SOURCES</div><div class="toc-blockcontent"><div class="toc-entry" data-schema=""><a href="#datasource-gcn-sectors">gcn_sectors</a></div><div class="toc-entry" data-schema=""><a href="#datasource-pbl-sectors">pbl_sectors</a></div><div class="toc-entry" data-schema=""><a href="#datasource-sectorgroups">sectorgroups</a></div><div class="toc-entry" data-schema=""><a href="#datasource-sectors">sectors</a></div></div></div></div></body></html>